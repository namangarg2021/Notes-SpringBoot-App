{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/namangarg01/Desktop/Angular Codes/MiniExitAssignment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/notes.service\";\nimport * as i2 from \"@angular/router\";\nfunction AddNoteComponent_h6_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h6\", 16);\n    i0.ɵɵtext(1, \" Note is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddNoteComponent {\n  get note() {\n    return this.Note.get('note');\n  }\n  constructor(notesService, router) {\n    this.notesService = notesService;\n    this.router = router;\n    this.Note = new FormGroup({\n      note: new FormControl('', [Validators.required, this.maxWordsValidator(500), this.specialCharactersValidator()])\n    });\n    this.error = false;\n  }\n  ngOnInit() {\n    if (this.notesService.isLoggedIn() == null) this.router.navigate(['/']);\n  }\n  maxWordsValidator(maxWords) {\n    return control => {\n      const words = control.value ? control.value.trim().split(/\\s+/) : [];\n      return words.length > maxWords ? {\n        maxWords: true\n      } : null;\n    };\n  }\n  specialCharactersValidator() {\n    return control => {\n      const specialCharsPattern = /^[a-zA-Z0-9@;&*+-,\\-\\s]+$/;\n      const containsSpecialChars = !specialCharsPattern.test(control.value);\n      return containsSpecialChars ? {\n        invalidSpecialChars: true\n      } : null;\n    };\n  }\n  add() {\n    var _this = this,\n      _ref;\n    let note = this.Note.value;\n    note.userId = localStorage.getItem('id');\n    let now = new Date().toLocaleString();\n    this.notesService.addNote(note).subscribe(function (_x) {\n      return (_ref = _ref || _asyncToGenerator(function* (result) {\n        _this.r = result;\n        console.log(result);\n        if (result == null) {\n          _this.error = true;\n        } else {\n          yield Swal.fire({\n            title: \"<h5 style='color:green;font-size:35px'>Note Added!</h5>\",\n            timer: 1000,\n            showConfirmButton: false,\n            icon: 'success'\n          });\n          _this.router.navigate(['home']);\n        }\n      })).apply(this, arguments);\n    });\n  }\n}\n_class = AddNoteComponent;\n_class.ɵfac = function AddNoteComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.NotesService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-add-note\"]],\n  decls: 33,\n  vars: 3,\n  consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\", \"crossorigin\", \"anonymous\"], [1, \"form-bg\"], [1, \"container\"], [1, \"row\"], [1, \"fixed-header\"], [1, \"form-container\"], [1, \"form-horizontal\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\", \"mt-5\"], [1, \"col\", \"offset-5\"], [1, \"title\"], [1, \"form-group\"], [\"type\", \"textarea\", \"placeholder\", \"Add a note\", \"id\", \"note\", \"name\", \"note\", \"formControlName\", \"note\", \"rows\", \"10\", \"cols\", \"50\", 1, \"form-control\"], [\"style\", \"color: red\", 4, \"ngIf\"], [2, \"color\", \"red\"], [1, \"col-1\", \"offset-1\"], [1, \"btn\", \"btn-success\", 3, \"disabled\"], [1, \"col-1\"], [1, \"btn\", \"btn-danger\"], [\"href\", \"/home\", 1, \"text-light\", 2, \"text-decoration\", \"none\"]],\n  template: function AddNoteComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n      i0.ɵɵelementStart(4, \"title\");\n      i0.ɵɵtext(5, \"Add Note\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"link\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"body\");\n      i0.ɵɵelement(8, \"app-navbar\");\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"div\", 6)(12, \"div\", 7)(13, \"div\", 8)(14, \"form\", 9);\n      i0.ɵɵlistener(\"ngSubmit\", function AddNoteComponent_Template_form_ngSubmit_14_listener() {\n        return ctx.add();\n      });\n      i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 11)(17, \"h3\", 12);\n      i0.ɵɵtext(18, \"Add a Note\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 13)(20, \"textarea\", 14);\n      i0.ɵɵtext(21, \"                  \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(22, AddNoteComponent_h6_22_Template, 2, 0, \"h6\", 15);\n      i0.ɵɵelementStart(23, \"h6\", 16);\n      i0.ɵɵtext(24, \" Only Special Characters allowed are @ , ; & * + - \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 6)(26, \"div\", 17)(27, \"button\", 18);\n      i0.ɵɵtext(28, \" Add \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 19)(30, \"button\", 20)(31, \"a\", 21);\n      i0.ɵɵtext(32, \"Cancel\");\n      i0.ɵɵelementEnd()()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"formGroup\", ctx.Note);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.note == null ? null : ctx.note.touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.Note.invalid);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["FormControl","FormGroup","Validators","Swal","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","AddNoteComponent","note","Note","get","constructor","notesService","router","required","maxWordsValidator","specialCharactersValidator","error","ngOnInit","isLoggedIn","navigate","maxWords","control","words","value","trim","split","length","specialCharsPattern","containsSpecialChars","test","invalidSpecialChars","add","_this","_ref","userId","localStorage","getItem","now","Date","toLocaleString","addNote","subscribe","_x","_asyncToGenerator","result","r","console","log","fire","title","timer","showConfirmButton","icon","apply","arguments","ɵɵdirectiveInject","i1","NotesService","i2","Router","selectors","decls","vars","consts","template","AddNoteComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","AddNoteComponent_Template_form_ngSubmit_14_listener","ɵɵtemplate","AddNoteComponent_h6_22_Template","ɵɵadvance","ɵɵproperty","touched","invalid"],"sources":["C:\\Users\\namangarg01\\Desktop\\Angular Codes\\MiniExitAssignment\\src\\app\\add-note\\add-note.component.ts","C:\\Users\\namangarg01\\Desktop\\Angular Codes\\MiniExitAssignment\\src\\app\\add-note\\add-note.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {\n  AbstractControl,\n  FormControl,\n  FormGroup,\n  ValidatorFn,\n  Validators,\n} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NotesService } from '../services/notes.service';\nimport Swal from 'sweetalert2';\n@Component({\n  selector: 'app-add-note',\n  templateUrl: './add-note.component.html',\n  styleUrls: ['./add-note.component.css'],\n})\nexport class AddNoteComponent {\n  Note = new FormGroup({\n    note: new FormControl('', [\n      Validators.required,\n      this.maxWordsValidator(500),\n      this.specialCharactersValidator(),\n    ]),\n  });\n\n  get note() {\n    return this.Note.get('note');\n  }\n\n  constructor(private notesService: NotesService, private router: Router) {}\n\n  ngOnInit(): void {\n    if (this.notesService.isLoggedIn() == null) this.router.navigate(['/']);\n  }\n  r: any;\n  error = false;\n\n  maxWordsValidator(maxWords: number): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n      const words = control.value ? control.value.trim().split(/\\s+/) : [];\n      return words.length > maxWords ? { maxWords: true } : null;\n    };\n  }\n  specialCharactersValidator(): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n      const specialCharsPattern = /^[a-zA-Z0-9@;&*+-,\\-\\s]+$/;\n      const containsSpecialChars = !specialCharsPattern.test(control.value);\n      return containsSpecialChars ? { invalidSpecialChars: true } : null;\n    };\n  }\n\n  add() {\n    let note: any = this.Note.value;\n    note.userId = localStorage.getItem('id');\n    let now = new Date().toLocaleString();\n    this.notesService.addNote(note).subscribe(async (result) => {\n      this.r = result;\n      console.log(result);\n      if (result == null) {\n        this.error = true;\n      } else {\n        await Swal.fire({\n          title: \"<h5 style='color:green;font-size:35px'>Note Added!</h5>\",\n          timer: 1000,\n          showConfirmButton: false,\n          icon: 'success',\n        });\n\n        this.router.navigate(['home']);\n      }\n    });\n  }\n}\n","<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Add Note</title>\n    <link\n      href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\n      rel=\"stylesheet\"\n      integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\n      crossorigin=\"anonymous\"\n    />\n  </head>\n  <body>\n    <app-navbar></app-navbar>\n    <div class=\"form-bg\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"fixed-header\">\n            <div class=\"form-container\">\n              <form\n                [formGroup]=\"Note\"\n                (ngSubmit)=\"add()\"\n                class=\"form-horizontal\"\n              >\n                <div class=\"row mt-5\">\n                  <div class=\"col offset-5\">\n                    <h3 class=\"title\">Add a Note</h3>\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <textarea\n                    class=\"form-control\"\n                    type=\"textarea\"\n                    placeholder=\"Add a note\"\n                    id=\"note\"\n                    name=\"note\"\n                    formControlName=\"note\"\n                    rows=\"10\"\n                    cols=\"50\"\n                  >\n                  </textarea>\n                </div>\n                <h6 style=\"color: red\" *ngIf=\"note?.touched\">\n                  Note is required\n                </h6>\n                <h6 style=\"color: red\">\n                  Only Special Characters allowed are @ , ; & * + -\n                </h6>\n\n                <div class=\"row\">\n                  <div class=\"col-1 offset-1\">\n                    <button class=\"btn btn-success\" [disabled]=\"Note.invalid\">\n                      Add\n                    </button>\n                  </div>\n                  <div class=\"col-1\">\n                    <button class=\"btn btn-danger\">\n                      <a\n                        href=\"/home\"\n                        style=\"text-decoration: none\"\n                        class=\"text-light\"\n                        >Cancel</a\n                      >\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
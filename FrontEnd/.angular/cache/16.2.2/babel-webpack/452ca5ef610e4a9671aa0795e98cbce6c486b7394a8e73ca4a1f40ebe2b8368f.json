{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/namangarg01/Desktop/Angular Codes/MiniExitAssignment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/notes.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../navbar/navbar.component\";\nfunction LoginComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n// import Swal from 'sweetalert2';\nexport class LoginComponent {\n  get email() {\n    return this.Login.get('email');\n  }\n  get password() {\n    return this.Login.get('password');\n  }\n  constructor(notesService, router) {\n    this.notesService = notesService;\n    this.router = router;\n    this.Login = new FormGroup({\n      email: new FormControl('', Validators.required),\n      password: new FormControl('', Validators.required)\n    });\n    this.error = false;\n  }\n  ngOnInit() {}\n  login() {\n    var _this = this,\n      _ref;\n    this.notesService.login(this.Login.value).subscribe(function (_x) {\n      return (_ref = _ref || _asyncToGenerator(function* (token) {\n        _this.r = token;\n        console.log(token);\n        if (token == null) {\n          yield Swal.fire({\n            title: \"<h5 style='color:red;font-size:20px'>Wrong Credentials!!!</h5>\",\n            icon: 'error'\n          });\n          _this.error = true;\n        } else {\n          const helper = new JwtHelperService();\n          const decodedToken = helper.decodeToken(token);\n          console.log(decodedToken);\n          //if (this.r.password == this.Login.value.password) {\n          //this.notesService.generateToken(this.Login.value).subscribe(\n          //async (response: any) => {\n          // this.notesService.loginUser(response.token);\n          // localStorage.setItem('logged', 'true');\n          yield Swal.fire({\n            title: \"<h5 style='color:green;font-size:25px'>Logging In...Please Wait !</h5>\",\n            timer: 1000,\n            showConfirmButton: false,\n            icon: 'success'\n          });\n          localStorage.setItem('id', _this.r.userId);\n          _this.router.navigate(['home']\n          //{\n          //   queryParams: { id: this.r.userId },\n          // }\n          );\n          //};\n          // (error) => {\n          //   this.error = true;\n          // }\n          // );\n        }\n      })).apply(this, arguments);\n    });\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.NotesService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 31,\n  vars: 4,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\", \"integrity\", \"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\", \"crossorigin\", \"anonymous\"], [1, \"form-bg\"], [1, \"container\"], [1, \"row\"], [1, \"fixed-header\"], [1, \"form-container\"], [1, \"form-horizontal\", 3, \"formGroup\", \"ngSubmit\"], [1, \"title\"], [1, \"form-group\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"id\", \"email\", \"name\", \"email\", \"formControlName\", \"email\", 1, \"form-control\"], [\"style\", \"color: red\", 4, \"ngIf\"], [\"type\", \"password\", \"placeholder\", \"Password\", \"id\", \"password\", \"name\", \"password\", \"formControlName\", \"password\", \"autocomplete\", \"on\", 1, \"form-control\"], [1, \"btn\", \"btn-primary\", \"signin\", \"mt-2\", 3, \"disabled\"], [1, \"register\"], [\"href\", \"registration\", 2, \"font-size\", \"16px\"], [2, \"color\", \"red\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\")(1, \"head\")(2, \"title\");\n      i0.ɵɵtext(3, \"Notes Management System\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"link\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"body\");\n      i0.ɵɵelement(6, \"app-navbar\");\n      i0.ɵɵelementStart(7, \"div\", 1)(8, \"div\", 2)(9, \"div\", 3)(10, \"div\", 4)(11, \"div\", 5)(12, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_12_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(13, \"h3\", 7);\n      i0.ɵɵtext(14, \"Login Form\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"br\");\n      i0.ɵɵelementStart(16, \"div\", 8);\n      i0.ɵɵelement(17, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, LoginComponent_span_18_Template, 2, 0, \"span\", 10);\n      i0.ɵɵelementStart(19, \"div\", 8);\n      i0.ɵɵelement(20, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, LoginComponent_span_21_Template, 2, 0, \"span\", 10);\n      i0.ɵɵelement(22, \"br\");\n      i0.ɵɵelementStart(23, \"button\", 12);\n      i0.ɵɵtext(24, \" Log in \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"br\")(26, \"br\");\n      i0.ɵɵelementStart(27, \"h6\", 13);\n      i0.ɵɵtext(28, \" Do Not Have an Account? Click Here to \");\n      i0.ɵɵelementStart(29, \"a\", 14);\n      i0.ɵɵtext(30, \"Register\");\n      i0.ɵɵelementEnd()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"formGroup\", ctx.Login);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.email && ctx.email.invalid && ctx.email.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", (ctx.password == null ? null : ctx.password.invalid) && (ctx.password == null ? null : ctx.password.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.Login.invalid);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.NavbarComponent],\n  styles: [\".form-container[_ngcontent-%COMP%] {\\n  font-family: \\\"Poppins\\\", sans-serif;\\n  display: block;\\n  margin-left: 80%;\\n  margin-top: 30%;\\n  text-align: left;\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtDQUFrQztFQUNsQyxjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm0tY29udGFpbmVyIHtcclxuICBmb250LWZhbWlseTogXCJQb3BwaW5zXCIsIHNhbnMtc2VyaWY7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luLWxlZnQ6IDgwJTtcclxuICBtYXJnaW4tdG9wOiAzMCU7XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["FormControl","FormGroup","Validators","Swal","JwtHelperService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent","email","Login","get","password","constructor","notesService","router","required","error","ngOnInit","login","_this","_ref","value","subscribe","_x","_asyncToGenerator","token","r","console","log","fire","title","icon","helper","decodedToken","decodeToken","timer","showConfirmButton","localStorage","setItem","userId","navigate","apply","arguments","ɵɵdirectiveInject","i1","NotesService","i2","Router","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","LoginComponent_Template_form_ngSubmit_12_listener","ɵɵtemplate","LoginComponent_span_18_Template","LoginComponent_span_21_Template","ɵɵadvance","ɵɵproperty","invalid","touched"],"sources":["C:\\Users\\namangarg01\\Desktop\\Angular Codes\\MiniExitAssignment\\src\\app\\login\\login.component.ts","C:\\Users\\namangarg01\\Desktop\\Angular Codes\\MiniExitAssignment\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NotesService } from '../services/notes.service';\nimport Swal from 'sweetalert2';\nimport { JwtHelperService } from '@auth0/angular-jwt';\n// import Swal from 'sweetalert2';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n})\nexport class LoginComponent {\n  Login = new FormGroup({\n    email: new FormControl('', Validators.required),\n    password: new FormControl('', Validators.required),\n  });\n  error = false;\n\n  get email() {\n    return this.Login.get('email');\n  }\n  get password() {\n    return this.Login.get('password');\n  }\n\n  constructor(private notesService: NotesService, private router: Router) {}\n\n  ngOnInit(): void {}\n  r: any;\n\n  login() {\n    this.notesService.login(this.Login.value).subscribe(async (token) => {\n      this.r = token;\n      console.log(token);\n      if (token == null) {\n        await Swal.fire({\n          title:\n            \"<h5 style='color:red;font-size:20px'>Wrong Credentials!!!</h5>\",\n          icon: 'error',\n        });\n        this.error = true;\n      } else {\n        const helper = new JwtHelperService();\n\n        const decodedToken = helper.decodeToken(token);\n        console.log(decodedToken);\n        //if (this.r.password == this.Login.value.password) {\n        //this.notesService.generateToken(this.Login.value).subscribe(\n        //async (response: any) => {\n        // this.notesService.loginUser(response.token);\n        // localStorage.setItem('logged', 'true');\n        await Swal.fire({\n          title:\n            \"<h5 style='color:green;font-size:25px'>Logging In...Please Wait !</h5>\",\n          timer: 1000,\n          showConfirmButton: false,\n          icon: 'success',\n        });\n        localStorage.setItem('id', this.r.userId);\n        this.router.navigate(\n          ['home']\n          //{\n          //   queryParams: { id: this.r.userId },\n          // }\n        );\n        //};\n        // (error) => {\n        //   this.error = true;\n        // }\n        // );\n      }\n    });\n  }\n}\n","<html>\n  <head>\n    <title>Notes Management System</title>\n    <link\n      rel=\"stylesheet\"\n      href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\"\n      integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\"\n      crossorigin=\"anonymous\"\n    />\n  </head>\n  <body>\n    <app-navbar></app-navbar>\n    <div class=\"form-bg\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"fixed-header\">\n            <div class=\"form-container\">\n              <form\n                [formGroup]=\"Login\"\n                (ngSubmit)=\"login()\"\n                class=\"form-horizontal\"\n              >\n                <h3 class=\"title\">Login Form</h3>\n                <br />\n                <div class=\"form-group\">\n                  <input\n                    class=\"form-control\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    id=\"email\"\n                    name=\"email\"\n                    formControlName=\"email\"\n                  />\n                </div>\n                <span\n                  style=\"color: red\"\n                  *ngIf=\"email && email.invalid && email.touched\"\n                  >Email is required</span\n                >\n                <div class=\"form-group\">\n                  <input\n                    class=\"form-control\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    id=\"password\"\n                    name=\"password\"\n                    formControlName=\"password\"\n                    autocomplete=\"on\"\n                  />\n                </div>\n                <span\n                  style=\"color: red\"\n                  *ngIf=\"password?.invalid && password?.touched\"\n                  >Password is required</span\n                >\n                <br />\n                <button\n                  class=\"btn btn-primary signin mt-2\"\n                  [disabled]=\"Login.invalid\"\n                >\n                  Log in\n                </button>\n                <br /><br />\n                <h6 class=\"register\">\n                  Do Not Have an Account? Click Here to\n                  <a href=\"registration\" style=\"font-size: 16px\">Register</a>\n                </h6>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}